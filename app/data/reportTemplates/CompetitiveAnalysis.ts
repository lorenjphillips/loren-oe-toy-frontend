import { v4 as uuidv4 } from 'uuid';
import {
  ReportDefinition,
  ReportComponentType,
  ChartType,
  DataFilterType,
} from '../../services/reporting/ReportDefinition';

const competitiveAnalysisTemplate: ReportDefinition = {
  id: 'competitive-analysis',
  name: 'Competitive Analysis Report',
  description: 'In-depth analysis of market position relative to competitors',
  author: 'System',
  createdAt: new Date(),
  updatedAt: new Date(),
  sections: [
    {
      id: uuidv4(),
      title: 'Market Overview',
      description: 'Analysis of overall market dynamics and competitive landscape',
      components: [
        {
          id: uuidv4(),
          type: ReportComponentType.Text,
          title: 'Market Summary',
          dataSource: 'competitorAnalysis',
          description: 'Overview of current market conditions and competitive landscape',
          settings: {
            markdown: true,
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Chart,
          title: 'Market Share Distribution',
          dataSource: 'marketShare',
          description: 'Current market share distribution among competitors',
          settings: {
            chartType: ChartType.Pie,
            showLegend: true,
            donut: true,
            colors: ['#4A90E2', '#50E3C2', '#F5A623', '#D0021B', '#9013FE', '#8B572A'],
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Chart,
          title: 'Market Share Trends',
          dataSource: 'timeSeriesAnalysis',
          description: 'Market share trends over the last 12 months',
          settings: {
            chartType: ChartType.Line,
            xAxis: 'month',
            yAxis: 'marketShare',
            showLegend: true,
            colors: ['#4A90E2', '#50E3C2', '#F5A623', '#D0021B', '#9013FE', '#8B572A'],
            smoothLine: true,
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Table,
          title: 'Market Overview Table',
          dataSource: 'competitorAnalysis',
          description: 'Key market metrics for top competitors',
          settings: {
            pagination: true,
            search: true,
            sortable: true,
            columns: [
              { field: 'competitor', header: 'Competitor' },
              { field: 'marketShare', header: 'Market Share', format: '#.##%' },
              { field: 'yoyGrowth', header: 'YoY Growth', format: '+#.##%' },
              { field: 'revenue', header: 'Est. Revenue', format: '$#,###' },
              { field: 'productCount', header: 'Products', format: '#' },
            ],
          },
        },
      ],
    },
    {
      id: uuidv4(),
      title: 'Competitive Benchmarking',
      description: 'Head-to-head comparison with key competitors',
      components: [
        {
          id: uuidv4(),
          type: ReportComponentType.ComparisonTable,
          title: 'Competitive Scorecard',
          dataSource: 'competitorAnalysis',
          description: 'Detailed comparison of key metrics against top competitors',
          settings: {
            highlightWinner: true,
            showDifference: true,
            columns: [
              { field: 'metric', header: 'Metric' },
              { field: 'ourValue', header: 'Our Company' },
              { field: 'competitor1Value', header: 'Competitor 1' },
              { field: 'competitor2Value', header: 'Competitor 2' },
              { field: 'competitor3Value', header: 'Competitor 3' },
            ],
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Chart,
          title: 'Revenue Comparison',
          dataSource: 'competitorAnalysis',
          description: 'Revenue comparison with top competitors',
          settings: {
            chartType: ChartType.Bar,
            xAxis: 'competitor',
            yAxis: 'revenue',
            showLegend: false,
            horizontal: true,
            colors: ['#4A90E2', '#50E3C2', '#F5A623', '#D0021B'],
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Chart,
          title: 'Growth Rate Comparison',
          dataSource: 'competitorAnalysis',
          description: 'Year-over-year growth rate comparison',
          settings: {
            chartType: ChartType.Bar,
            xAxis: 'competitor',
            yAxis: 'growthRate',
            showLegend: false,
            horizontal: true,
            colors: ['#4A90E2', '#50E3C2', '#F5A623', '#D0021B'],
          },
        },
      ],
    },
    {
      id: uuidv4(),
      title: 'Product Portfolio Analysis',
      description: 'Comparison of product portfolios across competitors',
      components: [
        {
          id: uuidv4(),
          type: ReportComponentType.Chart,
          title: 'Portfolio Size Comparison',
          dataSource: 'competitorAnalysis',
          description: 'Number of products by competitor',
          settings: {
            chartType: ChartType.Bar,
            xAxis: 'competitor',
            yAxis: 'productCount',
            showLegend: false,
            horizontal: false,
            colors: ['#4A90E2'],
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Chart,
          title: 'Portfolio Mix by Therapeutic Area',
          dataSource: 'competitorAnalysis',
          description: 'Product distribution across therapeutic areas',
          settings: {
            chartType: ChartType.Bar,
            xAxis: 'competitor',
            yAxis: 'productCount',
            showLegend: true,
            stacked: true,
            horizontal: false,
            colors: ['#4A90E2', '#50E3C2', '#F5A623', '#D0021B', '#9013FE'],
            series: ['Area 1', 'Area 2', 'Area 3', 'Area 4', 'Area 5'],
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Table,
          title: 'Top Products by Competitor',
          dataSource: 'competitorAnalysis',
          description: 'Key products for each competitor',
          settings: {
            pagination: true,
            search: true,
            sortable: true,
            columns: [
              { field: 'competitor', header: 'Competitor' },
              { field: 'product', header: 'Product' },
              { field: 'therapeuticArea', header: 'Therapeutic Area' },
              { field: 'marketShare', header: 'Market Share', format: '#.##%' },
              { field: 'revenue', header: 'Est. Revenue', format: '$#,###' },
            ],
          },
        },
      ],
    },
    {
      id: uuidv4(),
      title: 'Pricing Analysis',
      description: 'Comparative analysis of pricing strategies',
      components: [
        {
          id: uuidv4(),
          type: ReportComponentType.Chart,
          title: 'Price Point Comparison',
          dataSource: 'competitorAnalysis',
          description: 'Average price point comparison across competitors',
          settings: {
            chartType: ChartType.Bar,
            xAxis: 'competitor',
            yAxis: 'avgPrice',
            showLegend: false,
            horizontal: true,
            colors: ['#4A90E2'],
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Chart,
          title: 'Price Trends',
          dataSource: 'timeSeriesAnalysis',
          description: 'Price trends over the last 12 months',
          settings: {
            chartType: ChartType.Line,
            xAxis: 'month',
            yAxis: 'avgPrice',
            showLegend: true,
            colors: ['#4A90E2', '#50E3C2', '#F5A623', '#D0021B'],
            smoothLine: true,
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Table,
          title: 'Detailed Pricing Analysis',
          dataSource: 'competitorAnalysis',
          description: 'Detailed pricing comparison by product',
          settings: {
            pagination: true,
            search: true,
            sortable: true,
            columns: [
              { field: 'product', header: 'Product' },
              { field: 'ourPrice', header: 'Our Price', format: '$#,###' },
              { field: 'competitor1Price', header: 'Competitor 1', format: '$#,###' },
              { field: 'competitor2Price', header: 'Competitor 2', format: '$#,###' },
              { field: 'competitor3Price', header: 'Competitor 3', format: '$#,###' },
              { field: 'priceDiff', header: 'Difference', format: '+#.##%' },
            ],
          },
        },
      ],
    },
    {
      id: uuidv4(),
      title: 'SWOT Analysis',
      description: 'Strengths, Weaknesses, Opportunities, and Threats analysis',
      components: [
        {
          id: uuidv4(),
          type: ReportComponentType.Text,
          title: 'Strengths',
          dataSource: 'competitorAnalysis',
          description: 'Analysis of our competitive strengths',
          settings: {
            markdown: true,
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Text,
          title: 'Weaknesses',
          dataSource: 'competitorAnalysis',
          description: 'Analysis of our competitive weaknesses',
          settings: {
            markdown: true,
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Text,
          title: 'Opportunities',
          dataSource: 'competitorAnalysis',
          description: 'Analysis of market opportunities',
          settings: {
            markdown: true,
          },
        },
        {
          id: uuidv4(),
          type: ReportComponentType.Text,
          title: 'Threats',
          dataSource: 'competitorAnalysis',
          description: 'Analysis of competitive threats',
          settings: {
            markdown: true,
          },
        },
      ],
    },
    {
      id: uuidv4(),
      title: 'Strategic Recommendations',
      description: 'Recommended actions based on competitive analysis',
      components: [
        {
          id: uuidv4(),
          type: ReportComponentType.Text,
          title: 'Key Recommendations',
          dataSource: 'competitorAnalysis',
          description: 'Strategic recommendations based on competitive analysis',
          settings: {
            markdown: true,
          },
        },
      ],
    },
  ],
  filters: [
    {
      type: DataFilterType.Category,
      field: 'productCategory',
      operator: 'equals',
      value: 'all',
      label: 'Product Category',
    },
    {
      type: DataFilterType.DateRange,
      field: 'reportDate',
      operator: 'last 90 days',
      value: '',
      label: 'Time Period',
    },
    {
      type: DataFilterType.ComparisonType,
      field: 'vsCompetitors',
      operator: 'is true',
      value: true,
      label: 'Compare with Competitors',
    },
  ],
  branding: {
    logo: '/assets/logo.png',
    primaryColor: '#0066CC',
    secondaryColor: '#F5A623',
    fontFamily: 'Arial, sans-serif',
  },
};

export default competitiveAnalysisTemplate; 